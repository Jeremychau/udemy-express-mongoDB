{"version":3,"file":"static/js/634.6a893c38.chunk.js","mappings":"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","sources":["shared/components/UIElements/Map.jsx","places/components/PlaceItem.jsx","places/components/PlaceList.jsx","places/pages/UserPlaces.jsx","shared/components/UIElements/Card.js","shared/components/UIElements/ErrorModal.js","shared/components/UIElements/Modal.jsx","apiConfig.js","shared/hooks/http-hook.js"],"sourcesContent":["import React, { useRef, useEffect } from 'react';\n\nimport './Map.css';\n\nconst Map = props => {\n  const mapRef = useRef();\n\n  const { center } = props;\n\n  useEffect(() => {\n    new window.ol.Map({\n      target: mapRef.current.id,\n      layers: [\n        new window.ol.layer.Tile({\n          source: new window.ol.source.OSM()\n        })\n      ],\n      view: new window.ol.View({\n        center: window.ol.proj.fromLonLat([center.lng, center.lat]),\n        zoom: 16\n      })\n    });\n  }, [center]);\n\n  return (\n    <div\n      ref={mapRef}\n      className={`map ${props.className}`}\n      style={props.style}\n      id=\"map\"\n    />\n  );\n};\n\nexport default Map;","import React, {useState, useContext} from \"react\";\n\nimport Card from '../../shared/components/UIElements/Card'\nimport Button from \"../../shared/components/FormElements/Button\";\nimport Modal from \"../../shared/components/UIElements/Modal\";\nimport Map from \"../../shared/components/UIElements/Map\"\n\nimport { AuthContext } from '../../shared/context/auth-context';\n\nimport \"./PlaceItem.css\";\n\nconst PlaceItem = props => {\n    const auth = useContext(AuthContext);\n\n    const [showMap, setShowMap] = useState(false);\n    const [showConfirmModal, setShowConfirmModal] = useState(false);\n\n    const mapHandler = ( action ) => {\n        setShowMap( action? true : false )\n    }\n\n    const showWarningHandler = ( action ) => {\n        setShowConfirmModal( action? true : false )\n    }\n\n    const confirmDeletHandler = () => {\n        setShowConfirmModal( false )\n    }\n    console.log(props);\n  return (\n    <React.Fragment>\n        <Modal show={showMap} onCancel={ () => mapHandler()} header={props.address} contentClass=\"place-item__modal-content\" footrtClass=\"plac-item__modal-actions\" footer={<Button onClick={ () => mapHandler()} >Close</Button>}>\n            <div className=\"map-container\">\n                <h2>The Map!</h2>\n                <Map center={props.coordinates}/>\n            </div>\n        </Modal>\n\n        <Modal\n            show={showConfirmModal}\n            onCancel={ () => showWarningHandler(false)}\n            header=\"Are you sure?\"\n            footerClass=\"plac-item__modal-actions\"\n            footer={\n                <React.Fragment>\n                    <Button inverse onClick={ () => showWarningHandler(false)} >Cancel</Button>\n                    <Button danger onClick={confirmDeletHandler} >Delete</Button>\n                </React.Fragment>\n            }\n        >\n            <p>Do you want to proceed and delete this place?</p>\n        </Modal>\n\n        <li className=\"place-item\">\n            <Card className=\"place-item__content\">\n                <div className=\"place-item__image\">\n                    <img src={`${process.env.REACT_APP_ASSET_URL_PATH + props.image}`} alt={props.title} />\n                </div>\n                <div className=\"place-item__info\">\n                    <h2>{props.title}</h2>\n                    <h3>{props.address}</h3>\n                    <p>{props.description}</p>\n                </div>\n                <div className=\"place-item__actions\">\n                    <Button inverse onClick={ () => mapHandler(true)} >View On Map</Button>\n                    {auth.userId === props.creatorId && <Button to={`/places/${props.id}`} >Edit</Button>}\n                    {auth.userId === props.creatorId && <Button danger onClick={ () => showWarningHandler(true)} >Delete</Button>}\n                </div>\n            </Card>\n        </li>\n    </React.Fragment>\n  );\n};\n\nexport default PlaceItem;\n","import React from 'react'\n\nimport Card from '../../shared/components/UIElements/Card'\nimport PlaceItem from './PlaceItem'\nimport Button from '../../shared/components/FormElements/Button'\n\nimport './PlaceList.css'\n\nconst PlaceList = props => {\n    if(props.items.length === 0){\n        return (\n            <div className='place-list center'>\n                <Card>\n                    <h2>\n                        No Place Found.\n                    </h2>\n                    {/* <button>Share Place</button> */}\n                    <Button to='/places/new'>Add New</Button>\n                </Card>\n            </div>\n        )\n    }\n\n    return (\n        <ul className='place-list'>\n            {\n                props.items.map( (place, index) => (\n                        <PlaceItem\n                            key={index}\n                            id={place._id}\n                            image={place.image}\n                            title={place.title}\n                            description={place.description}\n                            address={place.address}\n                            creatorId={place.creator}\n                            coordinates={place.location}\n                        />\n                ) )\n            }\n        </ul>\n    )\n}\n\nexport default PlaceList","import React, {useState, useEffect} from 'react'\nimport { useParams } from 'react-router-dom'\n\nimport PlaceList from '../components/PlaceList'\nimport ErrorModal from \"../../shared/components/UIElements/ErrorModal\";\nimport LoadingSpinner from \"../../shared/components/UIElements/LoadingSpinner\";\n\nimport { useHttpClient } from '../../shared/hooks/http-hook'\n\nconst UserPlaces = () => {\n    const [loadedPlaces, setLoadedPlaces] = useState();\n    const {isLoading, error, sendReq, clearError} = useHttpClient();\n    const userId = useParams().userId;\n\n    useEffect(() => {\n        const getPlaces = async() => {\n            try {\n                const result = await sendReq(`places/user/${userId}`)\n                setLoadedPlaces(result.places)\n            } catch (error) {\n                console.log(error);\n            }\n        }\n        getPlaces();\n    }, [sendReq, userId])\n\n\n    return (\n        <React.Fragment>\n            <ErrorModal error={error} onClear={clearError} />\n            {isLoading &&  <div className='center'><LoadingSpinner asOverlay/></div>}\n            {!isLoading && loadedPlaces && <PlaceList items={loadedPlaces} />}\n        </React.Fragment>\n    )\n}\n\nexport default UserPlaces","import React from 'react';\n\nimport './Card.css';\n\nconst Card = props => {\n  return (\n    <div className={`card ${props.className? props.className : ''}`} style={props.style}>\n      {props.children}\n    </div>\n  );\n};\n\nexport default Card;\n","import React from 'react';\n\nimport Modal from './Modal';\nimport Button from '../FormElements/Button';\n\nconst ErrorModal = props => {\n  return (\n    <Modal\n      onCancel={props.onClear}\n      header=\"An Error Occurred!\"\n      show={!!props.error}\n      footer={<Button onClick={props.onClear}>Okay</Button>}\n    >\n      <p>{props.error}</p>\n    </Modal>\n  );\n};\n\nexport default ErrorModal;\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { CSSTransition } from 'react-transition-group'\n\nimport Backdrop from './Backdrop'\n\nimport './Modal.css'\n\nconst ModalOverlay = props => {\n    const content = (\n        <div className={`modal ${props.className}`} style={props.style}>\n            <header className={`modal__header ${props.headerClass}`}>\n                <h2>{props.header}</h2>\n            </header>\n            <form onSubmit={props.onSubmit ? props.onSubmit : (event) => event.preventDefault}>\n                <div className={`modal__content ${props.contentClass}`}>\n                    {props.children}\n                </div>\n            </form>\n            <footer className={`modal__footer ${props.footerClass}`}>\n                {props.footer}\n            </footer>\n        </div>\n    )\n\n    return ReactDOM.createPortal(content, document.getElementById('modal-hook'));\n}\n\nconst Modal = props => {\n  return (\n    <React.Fragment>\n        {props.show && <Backdrop onClick={props.onCancel} />}\n        <CSSTransition in={props.show} mountOnEnter unmountOnExit timeout={200} classNames=\"modal\">\n            <ModalOverlay {...props} />\n        </CSSTransition>\n    </React.Fragment>\n  )\n}\n\nexport default Modal","import axios from 'axios';\n\nconst userItem = JSON.parse(localStorage.getItem('userData'));\n\nconst instance = axios.create({\n    baseURL: process.env.REACT_APP_API_PATH\n});\n\ninstance.defaults.headers.common['Authorization'] = (userItem)? `Bearer ${userItem.token}` : ''\n\naxios.defaults.headers.post['Content-Type'] = 'application/json';\n\nexport default instance;","// import { useState, useCallback, useRef, useEffect } from \"react\";\nimport { useState, useCallback } from \"react\";\nimport api from \"../../apiConfig\";\n\nexport const useHttpClient = () => {\n    const [isLoading, setIsLoading] = useState(false);\n    const [error, setError] = useState(null);\n\n    const sendReq = useCallback( async (url, method = 'get', body = null) => {\n        setIsLoading(true)\n        try {\n            let result = await api[method](url, body);\n            if(!result) throw new Error(result.message)\n            setIsLoading(false)\n            return result.data\n        } catch (err) {\n            setError(err.message || 'Something Error');\n            setIsLoading(false)\n            throw err\n        }\n    }, []);\n\n    const clearError = () => {\n        setError(null)\n    }\n\n    // useEffect(() => {\n    //     return () => {\n    //         activeHttpRequests.current.map(abortCtrl => {abortCtrl.abort()} )\n    //     };\n    // }, [])\n\n    return { isLoading, error, setError, sendReq, clearError }\n}"],"names":["props","mapRef","useRef","center","useEffect","window","ol","Map","target","current","id","layers","layer","Tile","source","OSM","view","View","proj","fromLonLat","lng","lat","zoom","ref","className","style","auth","useContext","AuthContext","useState","showMap","setShowMap","showConfirmModal","setShowConfirmModal","mapHandler","action","showWarningHandler","console","log","Modal","show","onCancel","header","address","contentClass","footrtClass","footer","Button","onClick","coordinates","footerClass","inverse","danger","Card","src","process","image","alt","title","description","userId","creatorId","to","items","length","map","place","index","_id","creator","location","loadedPlaces","setLoadedPlaces","useHttpClient","isLoading","error","sendReq","clearError","useParams","getPlaces","result","places","ErrorModal","onClear","LoadingSpinner","asOverlay","children","ModalOverlay","content","headerClass","onSubmit","event","preventDefault","ReactDOM","document","getElementById","Backdrop","CSSTransition","in","mountOnEnter","unmountOnExit","timeout","classNames","userItem","JSON","parse","localStorage","getItem","instance","axios","baseURL","defaults","headers","common","token","setIsLoading","setError","useCallback","url","method","body","api","Error","message","data"],"sourceRoot":""}